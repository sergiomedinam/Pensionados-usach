<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>FP Usach | Sistema de administración de pensionados</title>
    <h:outputStylesheet name="css/jsfcrud.css"/>
    <link rel="stylesheet" href="http://localhost:8080/mavenproject3-web/resources/font-awesome/css/font-awesome.min.css"/>
        <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <!-- Custom CSS -->
    <link href="css/simple-sidebar.css" rel="stylesheet"/>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
</h:head>
<h:body>
    <ui:composition template="/template.xhtml"> 
 
            <ui:define name="body">
                <p:breadCrumb > 
                <p:menuitem value="Inicio" url="#" />
                <p:menuitem value="Inicio" url="/" />
                <p:menuitem value="Mapa de ubicaciones" url="/faces/pensionado/Mapa.xhtml" />
                </p:breadCrumb>
                 <section class="content-header">
                    <h1>
                      Ubicación de los Pensionados  
                      <small>Panel de información</small> <a href="#demo" data-toggle="collapse" class="btn btn-info">Informacion</a>

                    </h1>
                  
                    <div id="demo" class=" collapse">
                          <br/>
                         <div class="panel panel-default">
                        
                             <div class="panel-footer"> <b>¿Que hacer aqui?</b> En esta seccion del sistema es posible conocer la cantidad de pensionados por comunas y regiones de nuestro país.</div>
                        </div>
                    </div>
                    
                  </section>
             <br/>
    
    <div class="container" id="map" style="width: 1000px; height: 500px"></div>
        <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
        <script>
            var cities = new L.LayerGroup();
            var region = new L.LayerGroup(); 

            L.marker([-33.437778, -70.650278]).bindPopup('Santiago (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Santiago.xhtml">#{pensionadoController.PensionadosComuna('SANTIAGO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.2, -70.683333]).bindPopup('Colina (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Colina.xhtml">#{pensionadoController.PensionadosComuna('COLINA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.283333, -70.9]).bindPopup('Lampa (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Lampa.xhtml">#{pensionadoController.PensionadosComuna('LAMPA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.083333, -70.933333]).bindPopup('Til Til (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Tiltil.xhtml">#{pensionadoController.PensionadosComuna('TIL TIL').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.633333, -70.55]).bindPopup('Pirque (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Pirque.xhtml">#{pensionadoController.PensionadosComuna('PIRQUE').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.616667, -70.583333]).bindPopup('Puente Alto (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/PuenteAlto.xhtml">#{pensionadoController.PensionadosComuna('PUENTE ALTO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.633333, -70.366667]).bindPopup('San José de Maipo (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/SanJosedeMaipo.xhtml">#{pensionadoController.PensionadosComuna('SAN JOSE DE MAIPO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.733333, -70.75]).bindPopup('Buin (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Buin.xhtml">#{pensionadoController.PensionadosComuna('BUIN').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.65, -70.816667]).bindPopup('Caleta de Tango (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/CaleradeTango.xhtml">#{pensionadoController.PensionadosComuna('CALERA DE TANGO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.816667, -70.75]).bindPopup('Paine (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Paine.xhtml">#{pensionadoController.PensionadosComuna('PAINE').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.592222, -70.704444]).bindPopup('San Bernardo (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/SanBernardo.xhtml">#{pensionadoController.PensionadosComuna('SAN BERNARDO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-34.033333, -71.1]).bindPopup('Alhue (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Alhue.xhtml">#{pensionadoController.PensionadosComuna('ALHUE').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.4, -71.15]).bindPopup('Curacaví (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Curacavi.xhtml">#{pensionadoController.PensionadosComuna('CURACAVI').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.533333, -71.133333]).bindPopup('María Pinto (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/MariaPinto.xhtml">#{pensionadoController.PensionadosComuna('MARIA PINTO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.7, -71.216667]).bindPopup('Melipilla (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Melipilla.xhtml">#{pensionadoController.PensionadosComuna('MELIPILLA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.9, -71.466667]).bindPopup('San Pedro (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/SanPedro.xhtml">#{pensionadoController.PensionadosComuna('SAN PEDRO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.483333, -70.7]).bindPopup('Cerrillos (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Cerrillos.xhtml">#{pensionadoController.PensionadosComuna('CERRILLOS').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.416667, -70.716667]).bindPopup('Cerro Navia (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/CerroNavia.xhtml">#{pensionadoController.PensionadosComuna('CERRO NAVIA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.35, -70.616667]).bindPopup('Conchalí (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Conchali.xhtml">#{pensionadoController.PensionadosComuna('CONCHALI').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.566667, -70.7]).bindPopup('El Bosque (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/ElBosque.xhtml">#{pensionadoController.PensionadosComuna('EL BOSQUE').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.45, -70.666667]).bindPopup('Estación Central (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/EstacionCentral.xhtml">#{pensionadoController.PensionadosComuna('ESTACION CENTRAL').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.35, -70.666667]).bindPopup('Huechuraba (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Huechuraba.xhtml">#{pensionadoController.PensionadosComuna('HUECHURABA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.416667, -70.633333]).bindPopup('Independencia (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Independencia.xhtml">#{pensionadoController.PensionadosComuna('INDEPENDENCIA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.55, -70.683333]).bindPopup('La Cisterna (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LaCisterna.xhtml">#{pensionadoController.PensionadosComuna('LA CISTERNA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.583333, -70.583333]).bindPopup('La Granja (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LaGranja.xhtml">#{pensionadoController.PensionadosComuna('LA GRANJA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.55, -70.566667]).bindPopup('La Florida (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LaFlorida.xhtml">#{pensionadoController.PensionadosComuna('LA FLORIDA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.583333, -70.616667]).bindPopup('La Pintana (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LaPintana.xhtml">#{pensionadoController.PensionadosComuna('LA PINTANA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.45, -70.55]).bindPopup('La Reina (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LaReina.xhtml">#{pensionadoController.PensionadosComuna('LA REINA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.416667, -70.583333]).bindPopup('Las Condes (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LasCondes.xhtml">#{pensionadoController.PensionadosComuna('LAS CONDES').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.35, -70.516667]).bindPopup('Lo Barnechea (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LoBarnechea.xhtml">#{pensionadoController.PensionadosComuna('LO BARNECHEA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.533333, -70.716667]).bindPopup('Lo Espejo (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LoEspejo.xhtml">#{pensionadoController.PensionadosComuna('LO ESPEJO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.433333, -70.716667]).bindPopup('Lo Prado (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/LoPrado.xhtml">#{pensionadoController.PensionadosComuna('LO PRADO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.5, -70.566667]).bindPopup('Macul (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Macul.xhtml">#{pensionadoController.PensionadosComuna('MACUL').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.516667, -70.766667]).bindPopup('Maipú (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Maipu.xhtml">#{pensionadoController.PensionadosComuna('MAIPU').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.466667, -70.6]).bindPopup('Ñuñoa (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Nunoa.xhtml">#{pensionadoController.PensionadosComuna('ÑUÑOA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.466667, -70.633333]).bindPopup('Pedro Aguirre Cerda (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/PedroAguirreCerda.xhtml">#{pensionadoController.PensionadosComuna('PEDRO AGUIRRE CERDA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.483333, -70.533333]).bindPopup('Peñalolen (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Penalolen.xhtml">#{pensionadoController.PensionadosComuna('PEÑALOLEN').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.433333, -70.616667]).bindPopup('Providencia (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Providencia.xhtml">#{pensionadoController.PensionadosComuna('PROVIDENCIA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.433333, -70.716667]).bindPopup('Pudahuel (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Pudahuel.xhtml">#{pensionadoController.PensionadosComuna('PUDAHUEL').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.366667, -70.75]).bindPopup('Quilicura (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Quilicura.xhtml">#{pensionadoController.PensionadosComuna('QUILICURA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.45, -70.7]).bindPopup('Quinta Normal (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/QuintaNormal.xhtml">#{pensionadoController.PensionadosComuna('QUINTA NORMAL').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.416667, -70.65]).bindPopup('Recoleta (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Recoleta.xhtml">#{pensionadoController.PensionadosComuna('RECOLETA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.4, -70.733333]).bindPopup('Renca (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Renca.xhtml">#{pensionadoController.PensionadosComuna('RENCA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.5, -70.666667]).bindPopup('San Miguel (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/SanMiguel.xhtml">#{pensionadoController.PensionadosComuna('SAN MIGUEL').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.5, -70.616667]).bindPopup('San Joaquín (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/SanJoaquin.xhtml">#{pensionadoController.PensionadosComuna('SAN JOAQUIN').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.5, -70.616667]).bindPopup('San Ramón (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/SanRamon.xhtml">#{pensionadoController.PensionadosComuna('SAN RAMON').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.4, -70.6]).bindPopup('Vitacura (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Vitacura.xhtml">#{pensionadoController.PensionadosComuna('VITACURA').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.683333, -71.016667]).bindPopup('El Monte (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/ElMonte.xhtml">#{pensionadoController.PensionadosComuna('EL MONTE').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.75, -70.9]).bindPopup('Isla de Maipo (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/IsladeMaipo.xhtml">#{pensionadoController.PensionadosComuna('ISLA DE MAIPO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.566667, -70.833333]).bindPopup('Padre Hurtado (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/PadreHurtado.xhtml">#{pensionadoController.PensionadosComuna('PADRE HURTADO').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.616667, -70.916667]).bindPopup('Peñaflor (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Penaflor.xhtml">#{pensionadoController.PensionadosComuna('PEÑAFLOR').size()} pensionados</a>'+')').addTo(cities),
            L.marker([-33.666667, -70.933333]).bindPopup('Talagante (' + '<a href="#{request.contextPath}/faces/pensionado/Comuna/Talagante.xhtml">#{pensionadoController.PensionadosComuna('TALAGANTE').size()} pensionados</a>'+')').addTo(cities);

            L.marker([-18.475, -70.314444]).bindPopup('Arica y Parinacota (' + '<a href="#{request.contextPath}/faces/pensionado/Region/AricayParinacota.xhtml">#{pensionadoController.PensionadosRegion('ARICA Y PARINACOTA').size()} pensionados</a>'+')').addTo(region),
            L.marker([-20.283333, -69.333333]).bindPopup('Tarapacá (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Tarapaca.xhtml">#{pensionadoController.PensionadosRegion('TARAPACA').size()} pensionados</a>'+')').addTo(region),
            L.marker([-23.644167, -70.410833]).bindPopup('Antofagasta (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Antofagasta.xhtml">#{pensionadoController.PensionadosRegion('ANTOFAGASTA').size()} pensionados</a>'+')').addTo(region),
            L.marker([-27.366667, -70.332222]).bindPopup('Atacama (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Atacama.xhtml">#{pensionadoController.PensionadosRegion('ATACAMA').size()} pensionados</a>'+')').addTo(region),
            L.marker([-29.907778, -71.254167]).bindPopup('Coquimbo (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Coquimbo.xhtml">#{pensionadoController.PensionadosRegion('COQUIMBO').size()} pensionados</a>'+')').addTo(region),
            L.marker([-33.063056, -71.639444]).bindPopup('Valparaíso (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Valparaiso.xhtml">#{pensionadoController.PensionadosRegion('VALPARAISO').size()} pensionados</a>'+')').addTo(region),
            L.marker([-33.437778, -70.650278]).bindPopup('Metropolitana (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Metropolitana.xhtml">#{pensionadoController.PensionadosRegion('METROPOLITANA').size()} pensionados</a>'+')').addTo(region),
            L.marker([-34.167222, -70.726944]).bindPopup('Libertador Bernardo O´Higgins (' + '<a href="#{request.contextPath}/faces/pensionado/Region/LibertadorBernardoOhiggins.xhtml">#{pensionadoController.PensionadosRegion('LIBERTADOR BERNARDO OHIGGINS').size()} pensionados</a>'+')').addTo(region),
            L.marker([-35.426667, -71.671667]).bindPopup('Maule (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Maule.xhtml">#{pensionadoController.PensionadosRegion('MAULE').size()} pensionados</a>'+')').addTo(region),
            L.marker([-36.7728, -73.0631]).bindPopup('Bío-Bío (' + '<a href="#{request.contextPath}/faces/pensionado/Region/BioBio.xhtml">#{pensionadoController.PensionadosRegion('BIO BIO').size()} pensionados</a>'+')').addTo(region),
            L.marker([-38.9, -72.666667]).bindPopup('Araucanía (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Araucania.xhtml">#{pensionadoController.PensionadosRegion('ARAUCANIA').size()} pensionados</a>'+')').addTo(region),
            L.marker([-39.808333, -73.241667]).bindPopup('Los Ríos (' + '<a href="#{request.contextPath}/faces/pensionado/Region/LosRios.xhtml">#{pensionadoController.PensionadosRegion('LOS RIOS').size()} pensionados</a>'+')').addTo(region),
            L.marker([-41.471667, -72.936667]).bindPopup('Los Lagos (' + '<a href="#{request.contextPath}/faces/pensionado/Region/LosLagos.xhtml">#{pensionadoController.PensionadosRegion('LOS LAGOS').size()} pensionados</a>'+')').addTo(region),
            L.marker([-45.57, -72.066111]).bindPopup('Aysén del General Carlos Ibáñez del Campo (' + '<a href="#{request.contextPath}/faces/pensionado/Region/Aysen.xhtml">#{pensionadoController.PensionadosRegion('AYSEN DEL GENERAL CARLOS IBAÑEZ DEL CAMPO').size()} pensionados</a>'+')').addTo(region),
            L.marker([-53.1625, -70.9225]).bindPopup('Magallanes y la Antártica Chilena (' + '<a href="#{request.contextPath}/faces/pensionado/Region/MagallanesylaAntarticaChilena.xhtml">#{pensionadoController.PensionadosRegion('MAGALLANES Y LA ANTARTICA CHILENA').size()} pensionados</a>'+')').addTo(region);



            var mbAttr = 'Map data copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
                                '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                                'Imagery © <a href="http://mapbox.com">Mapbox</a>',
                        mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw';

            var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
                streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr}),
                dark  = L.tileLayer(mbUrl, {id: 'mapbox.dark',   attribution: mbAttr}),
                satellite  = L.tileLayer(mbUrl, {id: 'mapbox.satellite',   attribution: mbAttr});

            var map = L.map('map', {
                    center: [-33.45, -70.666667],
                    zoom: 11,
                    layers: [dark, cities]
            });

            var baseLayers = {
                    "Mapa": grayscale,
                    "Relieve": streets,
                    "Satélite": satellite,
                    "Oscuro": dark
            };

            var overlays = {
                    "Comunas": cities,
                    "Regiones": region
            };

            L.control.layers(baseLayers, overlays).addTo(map);
        </script>
    </ui:define>
    </ui:composition>
</h:body>

</html>